<!DOCTYPE html>
<html>
<head>
	<title>Panel - Librusik</title>
	<meta charset="utf-8">
	<base href="%s">
	<meta name="theme-color" content="#222">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link href="img/icon.png" rel="icon">
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<link rel="stylesheet" type="text/css" href="css/astyles.css">
	<script type="text/javascript" src="js/acore.js"></script>
</head>
<body onload="index()">
	<div class="top">
		<h1>Panel</h1>
		<button class="gotoapp" onclick="agou('')">Librusik</button><br>
	</div>
	<center>
		<div id="main">
			<div class="circ" id="loadavg" style="color: #F46">
				<svg class="cprog" viewBox="0 0 110 110">
					<defs>
						<path id="thePath" d="M40,90 A40,40 0 1,1 70,90" style="fill:none;"/>
					</defs>
					<use xlink:href="#thePath" style="stroke: #333;" />
					<use xlink:href="#thePath" id="loadavgp" style="stroke: #F46;stroke-dasharray: 220.6;stroke-dashoffset: 220;transition: stroke-dashoffset 2s" />
				</svg>
				<div class="value">-<b>%%</b></div>
				<div class="tooltip">Temp.: -Â°</div>
				<svg style="fill: #F46;" viewBox="0 0 24 24" class="icon"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9h2zm-4 10H4V5h14v14zM6 13h5v4H6v-4zm6-6h4v3h-4V7zM6 7h5v5H6V7zm6 4h4v6h-4v-6z"/></svg>
			</div>
			<div class="circ" id="dbusage" style="color: #48F">
				<svg class="cprog" viewBox="0 0 110 110">
					<defs>
						<path id="thePath2" d="M40,90 A40,40 0 1,1 70,90" style="fill:none;"/>
					</defs>
					<use xlink:href="#thePath2" style="stroke: #333;" />
					<use xlink:href="#thePath2" id="dbusagep" style="stroke: #48F;stroke-dasharray: 220.6;stroke-dashoffset: 220;transition: stroke-dashoffset 2s" />
				</svg>
				<div class="value">-<b>%%</b></div>
				<div class="tooltip">Using - of -</div>
				<svg viewBox="0 0 24 24" class="icon" fill="#48F"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg>
			</div><br>
			<button onclick="showdiv('main', 'logout')" class="highlighted">Log out</button><br>
			<button class="option" onclick="showdiv('main', 'traffic')">
				<svg viewBox="0 0 36 36"><g clip-path="url(#clip0_106_2)"><path d="M30 15H25.5V13.29C28.08 12.615 30 10.29 30 7.5H25.5V6C25.5 5.175 24.825 4.5 24 4.5H12C11.175 4.5 10.5 5.175 10.5 6V7.5H5.99999C5.99999 10.29 7.91999 12.615 10.5 13.29V15H5.99999C5.99999 17.79 7.91999 20.115 10.5 20.79V22.5H5.99999C5.99999 25.29 7.91999 27.615 10.5 28.29V30C10.5 30.825 11.175 31.5 12 31.5H24C24.825 31.5 25.5 30.825 25.5 30V28.29C28.08 27.615 30 25.29 30 22.5H25.5V20.79C28.08 20.115 30 17.79 30 15ZM22.5 28.5H13.5V7.5H22.5V28.5ZM18 27C19.245 27 20.25 25.995 20.25 24.75C20.25 23.505 19.245 22.5 18 22.5C16.755 22.5 15.75 23.505 15.75 24.75C15.75 25.995 16.755 27 18 27ZM18 20.25C19.245 20.25 20.25 19.245 20.25 18C20.25 16.755 19.245 15.75 18 15.75C16.755 15.75 15.75 16.755 15.75 18C15.75 19.245 16.755 20.25 18 20.25ZM18 13.5C19.245 13.5 20.25 12.495 20.25 11.25C20.25 10.005 19.245 9 18 9C16.755 9 15.75 10.005 15.75 11.25C15.75 12.495 16.755 13.5 18 13.5Z"/></g><defs><clipPath id="clip0_106_2"><rect width="36" height="36"/></clipPath></defs></svg>
				<div>
					<div class="title">Traffic</div>
					<div class="subtitle">See how many times Librusik got connected to Synergia.</div>
				</div>
			</button>
			<button class="option" onclick="showdiv('main', 'credentials')">
				<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M22 19h-6v-4h-2.68c-1.14 2.42-3.6 4-6.32 4-3.86 0-7-3.14-7-7s3.14-7 7-7c2.72 0 5.17 1.58 6.32 4H24v6h-2v4zm-4-2h2v-4h2v-2H11.94l-.23-.67C11.01 8.34 9.11 7 7 7c-2.76 0-5 2.24-5 5s2.24 5 5 5c2.11 0 4.01-1.34 4.71-3.33l.23-.67H18v4zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/></svg>
				<div>
					<div class="title">Credentials</div>
					<div class="subtitle">These are used to log into Panel.</div>
				</div>
			</button>
			<button class="option" onclick="showdiv('main', 'dblimit')">
				<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg>
				<div>
					<div class="title">Database capacity</div>
					<div class="subtitle">Maximum number of stored accounts in database.</div>
				</div>
			</button>
			<button class="option" onclick="showdiv('main', 'userlist')">
				<svg enable-background="new 0 0 24 24" viewBox="0 0 24 24"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><g><path d="M4,18v-0.65c0-0.34,0.16-0.66,0.41-0.81C6.1,15.53,8.03,15,10,15c0.03,0,0.05,0,0.08,0.01c0.1-0.7,0.3-1.37,0.59-1.98 C10.45,13.01,10.23,13,10,13c-2.42,0-4.68,0.67-6.61,1.82C2.51,15.34,2,16.32,2,17.35V20h9.26c-0.42-0.6-0.75-1.28-0.97-2H4z"/><path d="M10,12c2.21,0,4-1.79,4-4s-1.79-4-4-4C7.79,4,6,5.79,6,8S7.79,12,10,12z M10,6c1.1,0,2,0.9,2,2s-0.9,2-2,2 c-1.1,0-2-0.9-2-2S8.9,6,10,6z"/><path d="M20.75,16c0-0.22-0.03-0.42-0.06-0.63l1.14-1.01l-1-1.73l-1.45,0.49c-0.32-0.27-0.68-0.48-1.08-0.63L18,11h-2l-0.3,1.49 c-0.4,0.15-0.76,0.36-1.08,0.63l-1.45-0.49l-1,1.73l1.14,1.01c-0.03,0.21-0.06,0.41-0.06,0.63s0.03,0.42,0.06,0.63l-1.14,1.01 l1,1.73l1.45-0.49c0.32,0.27,0.68,0.48,1.08,0.63L16,21h2l0.3-1.49c0.4-0.15,0.76-0.36,1.08-0.63l1.45,0.49l1-1.73l-1.14-1.01 C20.72,16.42,20.75,16.22,20.75,16z M17,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S18.1,18,17,18z"/></g></g></svg>
				<div>
					<div class="title">Accounts</div>
					<div class="subtitle">List and manage accounts stored in database.</div>
				</div>
			</button>
			<button class="option" onclick="showdiv('main', 'info')">
				<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
				<div>
					<div class="title">System</div>
					<div class="subtitle">A bit of information about application and host.</div>
				</div>
			</button>
		</div>
		<div id="credentials" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('credentials', 'main', true)"></button>
			<div class="header">Credentials</div>
			<button class="option" onclick="showdiv('credentials', 'chgname')">
				<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"/></svg>
				<div>
					<div class="title">Change name</div>
					<div class="subtitle">Try to avoid common admin names.</div>
				</div>
			</button>
			<button class="option" onclick="showdiv('credentials', 'chgpasswd')">
				<svg enable-background="new 0 0 24 24" viewBox="0 0 24 24"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><g><path d="M2,17h20v2H2V17z M3.15,12.95L4,11.47l0.85,1.48l1.3-0.75L5.3,10.72H7v-1.5H5.3l0.85-1.47L4.85,7L4,8.47L3.15,7l-1.3,0.75 L2.7,9.22H1v1.5h1.7L1.85,12.2L3.15,12.95z M9.85,12.2l1.3,0.75L12,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H15v-1.5h-1.7l0.85-1.47 L12.85,7L12,8.47L11.15,7l-1.3,0.75l0.85,1.47H9v1.5h1.7L9.85,12.2z M23,9.22h-1.7l0.85-1.47L20.85,7L20,8.47L19.15,7l-1.3,0.75 l0.85,1.47H17v1.5h1.7l-0.85,1.48l1.3,0.75L20,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H23V9.22z"/></g></g></svg>
				<div>
					<div class="title">Change password</div>
					<div class="subtitle">If you feel a bit insecure or never changed it before.</div>
				</div>
			</button>
		</div>
		<div id="traffic" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('traffic', 'main', true)"></button>
			<div class="header">Traffic</div>
			<div class="subheader">How many times Librusik got connected to Synergia</div>
			<iframe src="traffic.html"></iframe>
		</div>
		<div id="chgname" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('chgname', 'credentials', true)"></button>
			<div class="header">Change name</div>
			<input type="text" id="newname" oninput="usernameit('newname')" placeholder="New name"><br>
			<input type="password" id="namepasswd" placeholder="Password"><br>
			<button onclick="changename()" class="highlighted">Proceed</button>
		</div>
		<div id="chgpasswd" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('chgpasswd', 'credentials', true)"></button>
			<div class="header">Change password</div>
			<input type="password" id="pass" placeholder="Current password"><br>
			<input type="password" id="newpass" placeholder="New password"><br>
			<input type="password" id="newpassconf" placeholder="New password (again)"><br>
			<button onclick="changepass()" class="highlighted">Change</button>
		</div>
		<div id="dblimit" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('dblimit', 'main', true)"></button>
			<div class="header">Database capacity</div>
			<div id="userlimit">Current limit: N/A</div>
			<button onclick="setmaxusers('-')" class="moreless">-</button>
			<div id="maxusers">N/A</div>
			<button onclick="setmaxusers('+')" class="moreless">+</button><br><br>
			<button onclick="setmaxusers('')">Reset</button>
			<button onclick="sendmaxusers()" class="highlighted">Apply</button>
		</div>
		<div id="info" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('info', 'main', true)"></button>
			<div class="header" style="margin-bottom: 12px">System</div>
			<button onclick="showdiv('info', 'rebootc')">Reboot</button><br>
			<button class="bubble unclickable">
				<div class="name">OS</div>
				<div id="sos" class="value">N/A</div>
			</button>
			<button class="bubble unclickable">
				<div class="name">Uptime</div>
				<div id="suptime" class="value">N/A</div>
			</button><br>
			<button class="bubble unclickable">
				<div class="name">Memory use</div>
				<div id="rss" class="value">N/A</div>
			</button>
			<button class="bubble unclickable">
				<div class="name">Database</div>
				<div id="dbsize" class="value">N/A</div>
			</button><br>
			<button class="bubble unclickable">
				<div class="name">CPU</div>
				<div id="scpu" class="value">N/A</div>
			</button>
			<button class="bubble unclickable">
				<div class="name">Average load</div>
				<div id="cloadavg" class="value">N/A</div>
			</button><br>
			<button class="bubble unclickable">
				<div class="name">Memory</div>
				<div id="smemory" class="value">N/A</div>
			</button>
			<button class="bubble unclickable">
				<div class="name">Storage</div>
				<div id="sstorage" class="value">N/A</div>
			</button><br>
		</div>
		<div id="reboot" class="hidden" style="display:none">
			<br><br><br><br><br>
			<div class="progtext">Rebooting, please wait...</div>
			<div class="progress"><div id="rebutstatus" class="bar"></div></div>
		</div>
		<div id="rebootc" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('rebootc', 'info', true)"></button>
			<div class="header">Reboot</div>
			<div class="brighten">Librusik will be down for a moment. Continue?</div>
			<br>
			<button onclick="reboot(true)" class="highlighted danger">Yes, reboot</button>
		</div>
		<div id="logout" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('logout', 'main', true)"></button>
			<div class="header">Log out</div>
			<div class="brighten">Are you sure?</div>
			<br>
			<button onclick="rmCookie()" class="highlighted">Yes, end session</button>
		</div>
		<div id="userlist" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('userlist', 'main', true)"></button>
			<div class="header" style="margin-bottom: 12px">Accounts</div>
			<div id="accountnum">N/A</div><br>
			<div id="accountlist"></div>
		</div>
		<div id="deluserc" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('deluserc', 'userlist', true)"></button>
			<div class="header">Delete account</div>
			<div class="brighten">Do you really want to delete <b id="utbd"></b>?</div>
			<br>
			<button onclick="delaccount()" class="highlighted danger">Yes, do it</button>
		</div>
		<div id="resetpassc" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('resetpassc', 'userlist', true)"></button>
			<div class="header">Reset password</div>
			<div class="brighten">Do you want to generate a new password for<br><b id="utbc"></b>?</div>
			<br>
			<button onclick="genpasswd()" class="highlighted">Yes, do it</button>
		</div>
		<div id="resetpasswd" class="hidden" style="display:none">
			<button class="back" onclick="showdiv('resetpasswd', 'userlist', true);purgepass()"></button>
			<div class="header">Reset password</div>
			<div class="brighten">A new password for <b id="utbcr"></b> has been generated:</div><br>
			<div id="passbox"></div>
		</div>
		<div class="hidden" id="err" style="display:none">
			<button class="back" id="errbtn"></button><br>
			<svg class="svge" viewBox="0 0 24 24"><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>
			<div class="error" id="errname"></div>
			<div class="suggestion" id="errdesc"></div>
		</div>
		<div class="hidden" id="succ" style="display:none">
			<button class="back" id="succbtn"></button><br>
			<svg class="ssvg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg>
			<div class="success" id="succname"></div>
			<div class="suggestion" id="succdesc"></div>
		</div>
	</center>
<br>
</body>
